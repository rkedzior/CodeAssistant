2025-12-28
- BL-0001 complete: Maven Spring Boot + Thymeleaf skeleton; `GET /` shows “Dashboard”; `GET /health` returns `{status: ok}`.
- Tests: `DashboardSmokeTest`, `HealthSmokeTest` via MockMvc with `@ActiveProfiles("test")` (run: `.\mvnw.cmd test`).
Observations / short memory:
- Chose Maven + Java 17 bytecode (runs on local JDK 21 OK).
- Package root: `app.platform` (per HLD).
- Mockito emits JDK dynamic-agent warning during tests; not addressed yet.

- BL-0101 complete: Project Setup UI (`GET/POST /setup`) with validation; config persisted to `./.codeassistant/config.json`; Dashboard shows “Configured”.
- Tests: `ProjectSetupFlowTest` (local setup, GitHub setup, invalid GitHub id) under `test` profile using in-memory config adapter.
Observations:
- Runtime config folder `.codeassistant/` is gitignored; file-backed adapter disabled in `test` profile.

- BL-0102 complete: vector-store state bootstrap via `metadata.json` with attributes `type=documentation`, `subtype=metadata`; `GET /api/metadata` added.
- UI: Dashboard shows “Last indexed commit: Not indexed” when empty.
- Tests: `MetadataApiTest` + updated `DashboardSmokeTest`.
Observations:
- Implemented a minimal local filesystem “vector store” under `.codeassistant/vectorstore/` for non-test profiles; tests use in-memory vector store.

- BL-0201 complete: Indexing page (`/index`) + initial index job; REST `POST /api/index/initial` + `GET /api/index/status`; metadata `lastIndexedCommit` updated from `git rev-parse HEAD`.
- Tests: `IndexingFlowTest` creates a temp git repo, starts job, asserts progress changes while RUNNING, and dashboard displays the commit hash.
Observations:
- Index job runner is in-memory/single-job (OK for MVP); uses Spring `applicationTaskExecutor`.

- BL-0202 complete: tracked-file enumeration via `git ls-files`; API `GET /api/index/tracked-files` added.
- Tests: `TrackedFilesApiTest` verifies ignored/untracked file is excluded.
